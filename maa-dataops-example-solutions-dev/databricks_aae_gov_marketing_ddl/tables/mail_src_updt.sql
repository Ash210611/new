--liquibase formatted sql

--changeset C7V5Z6:3
CREATE TABLE IF NOT EXISTS mail_src_updt (
ACCOUNTID		    STRING,
IND_PID		        STRING,
ADDR_PID		    STRING,
PREFIX		        STRING,
FIRST		        STRING,
MIDDLE		        STRING,
LAST		        STRING,
SUFFIX		        STRING,
ST		            STRING,
ST2		            STRING,
CITY		        STRING,
STA		            STRING,
ZIP		            STRING,
ZIP4		        STRING,
COUNTY		        STRING,
FIPS_COUNTY		    STRING,
FIPS		        STRING,
STATENAME		    STRING,
DPBC		        STRING,
DSFDELIVER		    STRING,
EMAIL		        STRING,
CONS_LINK		    STRING,
ADDR_LINK		    STRING,
HH_LINK		        STRING,
CUST_ID		        STRING,
INDID		        STRING,
FAMILY_ID		    STRING,
DOB		            STRING,
GENDER		        STRING,
HH_RANK		        STRING,
HOH		            STRING,
REGION		        STRING,
MARKET		        STRING,
MDL_MARKET		    STRING,
MIC_MKT		        STRING,
BRAND		        STRING,
PRIORITY		    STRING,
LTRMTRLID		    STRING,
PROJECT		        STRING,
UNIQUE_ID		    STRING,
PHONE1		        STRING,
MKT_URL		        STRING,
BI_URL		        STRING,
DM_URL		        STRING,
EMAIL_CAT		    STRING,
EMAIL_PROJ		    STRING,
EMAIL_CAMP		    STRING,
EMAIL_TFN		    STRING,
INHOMEDATE          DATE,
MAIL_DROP		    STRING,
MAIL_CODE		    STRING,
VALUE		        STRING,
SINPATIENT		    STRING,
SOUTPATIEN		    STRING,
SDENTAL		        STRING,
SALLOTHER		    STRING,
SMONTOTAL		    STRING,
SMONSAV		        STRING,
SANNSAV		        STRING,
INCOME		        STRING,
NET_WORTH		    STRING,
RACE		        STRING,
LANG_PREF		    STRING,
BILINGUAL_FLAG	    STRING,
DUAL_FLAG		    STRING,
VETERAN		        STRING,
DIABETIC_INT	    STRING,
MED_SUPPLIES	    STRING,
AILMENTS		    STRING,
ANALYSIS_CHART	    STRING,
DM_FLAG 		    STRING,
DM_EM_FLAG		    STRING,
EM_ONLY_FLAG	    STRING,
HOLDOUT_FLAG	    STRING,
DATASOURCE		    STRING,
ASSIGN_SRC		    STRING,
NUM_SRC		        STRING,
ACXM_DECILE		    STRING,
ACXM_SCORE	    	STRING,
ACXM_DECILE_MKT	    STRING,
DXLE_DECILE	    	STRING,
DXLE_SCORE  		STRING,
DXLE_DECILE_MKT	    STRING,
BUCKET		        STRING,
GROUP_BUCKET	    STRING,
CMI_SRC             STRING,
SOURCE_FILE_NAME	STRING,
UPDATE_TS           TIMESTAMP,
CREATE_TS		    TIMESTAMP,
FILE_NAME           STRING,
RECORD_COPY_DT      TIMESTAMP	
) USING delta
TBLPROPERTIES(delta.enableChangeDataCapture=true,delta.autooptimize.optimizewrite=true,delta.minReaderVersion='2',delta.minWriterVersion='5',delta.columnMapping.mode='name')
;
 -- rollback DROP TABLE aae_gov_marketing.mail_src_updt;
 

--changeset C7V5Z6:4
ALTER TABLE mail_src_updt
ADD COLUMN TDV_LOAD_DATE TIMESTAMP;
-- rollback ALTER TABLE mail_src_updt DROP COLUMN TDV_LOAD_DATE;